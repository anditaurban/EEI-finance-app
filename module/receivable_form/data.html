<div class="bg-white p-6">
  <section class="section">

    <div class="flex flex-wrap items-start justify-between mb-6 gap-4">
      <div>
        <h1 id="formTitle" class="text-2xl font-bold mb-1">RECEIVABLE FORM</h1>
        <nav class="text-gray-500 text-sm flex items-center flex-wrap gap-1">
          <span>Home</span>
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
          <span>Receivable</span>
          <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
          <span class="font-medium">Input</span>
        </nav>
      </div>

      <div class="flex flex-wrap gap-2">
        <button onclick="createData()" id="addButton"
          class="bg-blue-600 hover:bg-blue-700 text-white text-sm px-4 py-2 rounded">Simpan</button>
        <button onclick="updateData()" id="updateButton"
          class="bg-yellow-600 hover:bg-yellow-700 text-white text-sm px-4 py-2 rounded">Update</button>

        <button onclick="printInvoice('pdf')"
          class="hidden bg-red-600 hover:bg-red-700 text-white text-sm px-4 py-2 rounded flex items-center gap-1">
          <i class="fas fa-file-pdf"></i> PDF
        </button>
        <button onclick="printInvoice('word')"
          class="hidden bg-blue-800 hover:bg-blue-900 text-white text-sm px-4 py-2 rounded flex items-center gap-1">
          <i class="fas fa-file-word"></i> Word
        </button>

        <button onclick="loadModuleContent('receivable')" class="bg-gray-300 text-sm px-4 py-2 rounded">⬅️
          Kembali</button>
      </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

      <div>
        <h2 class="text-blue-600 text-lg font-semibold mb-4">Project Information</h2>

        <div class="mb-4 relative">
          <div class="flex items-center">
            <label class="w-40 font-medium">Project <span class="text-red-500">*</span></label>
            <input type="text" id="projectInput" name="projectInput"
              class="flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
              placeholder="Ketik nama project..." autocomplete="off" />

            <input type="hidden" id="project_id" name="project_id">
            <input type="hidden" id="pelanggan_id" name="pelanggan_id">
          </div>
          <ul id="projectSuggestions"
            class="absolute z-10 bg-white border border-gray-300 w-full md:w-[calc(100%-10rem)] right-0 mt-1 rounded shadow-lg max-h-60 overflow-y-auto hidden">
          </ul>
        </div>

        <div class="mb-4 flex items-center">
          <label class="w-40 font-medium">Project Number</label>
          <input type="text" id="project_number" name="project_number"
            class="flex-1 border border-yellow-400 bg-yellow-50 rounded px-3 py-2" readonly>
        </div>

        <div class="mb-4 flex items-center">
          <label class="w-40 font-medium">Purchase Order #</label>
          <input type="text" id="po_number" name="po_number"
            class="flex-1 border border-yellow-400 bg-yellow-50 rounded px-3 py-2" readonly>
        </div>

        <div class="mb-4 flex items-center">
          <label class="w-40 font-medium">Project Amount</label>
          <input type="text" id="project_amount" name="project_amount"
            class="flex-1 border border-yellow-400 bg-yellow-50 rounded px-3 py-2 text-right font-bold" readonly>
        </div>

        <div class="mb-4 flex items-center">
          <label class="w-40 font-medium">Client</label>
          <input type="text" id="client" name="client"
            class="flex-1 border border-yellow-400 bg-yellow-50 rounded px-3 py-2" readonly>
        </div>

        <div class="mb-4 flex items-start">
          <label class="w-40 font-medium mt-2">Description <span class="text-red-500">*</span></label>
          <textarea id="description" name="description" rows="2"
            class="flex-1 border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500"></textarea>
        </div>
      </div>

      <div>
        <h2 class="text-blue-600 text-lg font-semibold mb-4">Detail Receivable</h2>

        <div class="mb-4 flex items-center">
          <label class="w-40 font-medium">Invoice Date <span class="text-red-500">*</span></label>
          <input type="date" id="invoice_date" name="invoice_date" class="flex-1 border rounded px-3 py-2"
            onchange="generateInvoiceNumber()">
        </div>

        <div class="mb-4 flex items-center gap-4">
          <div class="flex-1">
            <label class="block font-medium text-sm mb-1">Due Date</label>
            <input type="date" id="due_date" name="due_date" class="w-full border rounded px-3 py-2">
          </div>
          <div class="flex-1">
            <label class="block font-medium text-sm mb-1">Payment Date</label>
            <input type="date" id="payment_date" name="payment_date" class="w-full border rounded px-3 py-2">
          </div>
        </div>

        <div class="mb-4 flex items-center">
          <label class="w-40 font-medium">Invoice Number</label>
          <input type="text" id="invoice_number" name="invoice_number"
            class="flex-1 border border-yellow-400 bg-yellow-50 rounded px-3 py-2" readonly
            placeholder="Auto-generated...">
        </div>

        <div class="flex flex-wrap gap-4 mb-4">
          <div class="w-24">
            <label class="block font-medium text-sm mb-1">Currency</label>
            <input type="text" id="currency" name="currency" placeholder="IDR/USD"
              class="w-full border border-gray-300 rounded px-3 py-2 focus:ring-2 focus:ring-blue-500 uppercase"
              oninput="this.value = this.value.toUpperCase()" />
          </div>

          <div class="flex-1">
            <label class="block font-medium text-sm mb-1">Rate</label>
            <input type="text" id="rate" name="rate" placeholder="Kurs (1 jika IDR)" value="1"
              class="w-full border border-gray-300 rounded px-3 py-2 text-right focus:ring-2 focus:ring-blue-500"
              onkeyup="formatNumber(this); calculateKonversi()" />
          </div>

          <div class="flex-1">
            <label class="block font-medium text-sm mb-1">Nominal (Original)</label>
            <input type="text" id="nominal" name="nominal" placeholder="Input Nominal Asli..."
              class="w-full border border-gray-300 rounded px-3 py-2 text-right focus:ring-2 focus:ring-blue-500 font-bold text-gray-700"
              onkeyup="formatNumber(this); calculateKonversi()" />
          </div>
        </div>

        <div class="mb-4 flex items-center space-x-2 bg-gray-50 p-3 rounded border border-gray-200">
          <label class="w-40 font-medium">Total Converted <br><span class="text-xs text-gray-500">(To System
              Currency)</span></label>

          <input type="number" id="percent_invoice" placeholder="%"
            class="w-16 border border-gray-300 rounded px-2 py-2 text-right bg-white" readonly />

          <input type="text" id="total_invoice" name="total_inv" placeholder="Hasil Rupiah"
            class="flex-1 border border-yellow-400 bg-yellow-50 rounded px-3 py-2 text-right font-bold text-lg"
            readonly />
        </div>

        <div class="mb-4 flex items-center space-x-2">
          <label class="w-40 font-medium">Total Invoice <br><span class="text-xs text-gray-500">(Excl.
              Tax)</span></label>

          <input type="number" id="percent_invoice" name="percent_invoice" placeholder="%"
            class="w-24 border border-gray-300 rounded px-3 py-2 text-right focus:ring-2 focus:ring-blue-500"
            onkeyup="calculateByPercent()" />

          <input type="text" id="total_invoice" name="total_invoice" placeholder="Amount"
            class="flex-1 border border-gray-300 rounded px-3 py-2 text-right focus:ring-2 focus:ring-blue-500"
            onkeyup="calculateByAmount()" />
        </div>

        <div class="mb-4 flex items-center space-x-2">
          <label class="w-40 font-medium">PPN</label>
          <input type="number" id="ppn_percent" name="ppn_percent" placeholder="%" value="11"
            class="w-24 border border-gray-300 rounded px-3 py-2 text-right" oninput="calculateTax()">
          <input type="text" id="ppn_nominal" name="ppn_nominal" placeholder="Amount"
            class="flex-1 border border-yellow-400 bg-yellow-50 rounded px-3 py-2 text-right" readonly>
        </div>

        <div class="mb-4 flex items-center space-x-2">
          <label class="w-40 font-medium">PPH</label>
          <input type="number" id="pph_percent" name="pph_percent" placeholder="%" value="0"
            class="w-24 border border-gray-300 rounded px-3 py-2 text-right" oninput="calculateTax()">
          <input type="text" id="pph_nominal" name="pph_nominal" placeholder="Amount"
            class="flex-1 border border-yellow-400 bg-yellow-50 rounded px-3 py-2 text-right" readonly>
        </div>

        <div class="mb-4 flex items-center border-t pt-4">
          <label class="w-40 font-semibold text-blue-600">Total Amount <br><span class="text-xs text-gray-500">(Incl.
              Tax)</span></label>
          <input type="text" id="total_after_tax" name="total_after_tax" placeholder="Amount"
            class="flex-1 border border-yellow-400 bg-yellow-50 rounded px-3 py-2 text-right font-semibold text-blue-600"
            readonly>
        </div>
      </div>
    </div>

  </section>
</div>